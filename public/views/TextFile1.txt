
<xsl:transform
  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
  xmlns:ixsl="http://saxonica.com/ns/interactiveXSLT"
  xmlns:prop="http://saxonica.com/ns/html-property"
  xmlns:style="http://saxonica.com/ns/html-style-property"
  xmlns:xs="http://www.w3.org/2001/XMLSchema"
  exclude-result-prefixes="xs prop"
  extension-element-prefixes="ixsl"
  version="2.0"
  >

    <xsl:output indent="yes"/>

    <xsl:variable name="rows" select="/Node/Rows" />
    <xsl:variable name="cols" select="/Node/Cols" />
    <xsl:variable name="grid-units" select="12 div $cols" />

    <xsl:template match ="Node[">
        <div class="container-fluid">
            <xsl:call-template name="make-row" />
        </div>
    </xsl:template>

    <xsl:template name="make-row">
        <xsl:param name="ri" select="1"/>
        <xsl:if test="$ri &lt;= $rows">
            <div class="row">
                <xsl:call-template name="make-col">
                    <xsl:with-param name="ri" select="$ri"/>
                </xsl:call-template>
            </div>
            <xsl:call-template name="make-row">
                <xsl:with-param name="ri" select="$ri + 1"/>
            </xsl:call-template>
        </xsl:if>
    </xsl:template>

    <xsl:template name="make-col">
        <xsl:param name="ci" select="1"/>
        <xsl:param name="ri"/>
        <xsl:if test="$ci &lt;= $cols">
            <div class="col-lg-{$grid-units}">
                <xsl:value-of select="Node[1 + ($ci - 1) mod $cols + $cols * ($ri - 1)]"/>
            </div>
            <xsl:call-template name="make-col">
                <xsl:with-param name="ci" select="$ci + 1"/>
                <xsl:with-param name="ri" select="$ri"/>
            </xsl:call-template>
        </xsl:if>
    </xsl:template>

    <xsl:template match="text()|@*"></xsl:template>
  
</xsl:transform>	




<xsl:transform
  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
  xmlns:ixsl="http://saxonica.com/ns/interactiveXSLT"
  xmlns:prop="http://saxonica.com/ns/html-property"
  xmlns:style="http://saxonica.com/ns/html-style-property"
  xmlns:xs="http://www.w3.org/2001/XMLSchema"
  exclude-result-prefixes="xs prop"
  extension-element-prefixes="ixsl"
  version="2.0"
  >

    <xsl:output indent="yes"/>

    <xsl:variable name="rows" select="/Node/Rows" />
    <xsl:variable name="cols" select="/Node/Cols" />
    <xsl:variable name="grid-units" select="12 div $cols" />

    <xsl:template match ="Node[UI[contains(., 'Grid')]]/Sub">
        <div class="container">
            <xsl:call-template name="make-row" />
        </div>
    </xsl:template>

    <xsl:template name="make-row">
        <xsl:param name="ri" select="1"/>
        <xsl:if test="$ri &lt;= $rows">
            <div class="row">
                <xsl:call-template name="make-col">
                    <xsl:with-param name="ri" select="$ri"/>
                </xsl:call-template>
            </div>
            <xsl:call-template name="make-row">
                <xsl:with-param name="ri" select="$ri + 1"/>
            </xsl:call-template>
        </xsl:if>
    </xsl:template>

    <xsl:template name="make-col">
        <xsl:param name="ci" select="1"/>
        <xsl:param name="ri"/>
        <xsl:if test="$ci &lt;= $cols">
            <div class="col-lg-{$grid-units}">
                <xsl:value-of select="Node[1 + ($ci - 1) mod $cols + $cols * ($ri - 1)]"/>
            </div>
            <xsl:call-template name="make-col">
                <xsl:with-param name="ci" select="$ci + 1"/>
                <xsl:with-param name="ri" select="$ri"/>
            </xsl:call-template>
        </xsl:if>
    </xsl:template>

    <xsl:template match="text()|@*"></xsl:template>
  
</xsl:transform>	
