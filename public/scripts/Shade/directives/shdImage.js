// Generated by CoffeeScript 1.7.1
(function() {
  angular.module('ShadeApp').directive('shdImage', function($http) {
    return {
      restrict: 'E',
      replace: true,
      scope: true,
      require: '?ngModel',
      template: '<img ng-model="vars[vText].model" />',
      link: function(scope, elm, attr, ngModel) {
        scope.src = attr.src;
        scope.vText = attr.vText;
        if (angular.isDefined(ngModel)) {
          return ngModel.$render = function() {
            return $http.head(ngModel.$modelValue).success(function() {
              return elm.attr('src', ngModel.$modelValue);
            }).error(function() {
              return elm.attr('src', scope.src);
            });
          };
        }
      }
    };
  });

}).call(this);

//# sourceMappingURL=shdImage.map
